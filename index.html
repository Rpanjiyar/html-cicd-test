<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Broken Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>SonarCloud Failing Demo</h1>
  <canvas id="buggyChart"></canvas>

  <script>
    // ❌ Issue 1: Unused variable
    const notUsed = 'This is not used anywhere';

    // ❌ Issue 2: Unreachable code
    function unreachableExample() {
      return;
      console.log("This will never be called"); // SonarCloud should flag this
    }

    // ❌ Issue 3: Bad practice - console.log
    console.log("This is a bad practice according to many code standards");

    // ❌ Issue 4: Inefficient code (detected as code smell)
    var total = 0;
    for (var i = 0; i < 10; i++) {
      total = total + 0; // pointless operation
    }

    // ❌ Issue 5: Empty function
    function emptyFunc() {}

    // ❌ Issue 6: Duplicate code (SonarCloud may catch this depending on rules)
    function duplicate() {
      let a = 1 + 1;
      let b = 2 + 2;
      let c = 3 + 3;
    }

    function duplicate2() {
      let a = 1 + 1;
      let b = 2 + 2;
      let c = 3 + 3;
    }

    // Chart.js example (valid)
    new Chart(document.getElementById("buggyChart"), {
      type: "bar",
      data: {
        labels: ["Jan", "Feb", "Mar"],
        datasets: [{
          label: "Example",
          data: [10, 20, 30],
          backgroundColor: "red"
        }]
      }
    });
  </script>
</body>
</html>
